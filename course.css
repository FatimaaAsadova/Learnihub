<!Doctype html>
<html lang="az">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Kurslar</title>
  <link rel="stylesheet" href="course.css">
</head>

<body data-require-auth="true">

  <!-- HEADER -->
  <header class="site-header">
    <div class="container header-inner">
      <h1 class="logo"><a href="index.html">Learnihub</a></h1>

      <nav class="main-nav">
        <a href="index.html" class="nav-link">Ana s…ôhif…ô</a>
        <a href="course.html" class="nav-link">Kurslar</a>
        <a href="survey.html" id="surveyBtn" class="nav-link">Sorƒüu</a>

        <!-- LOGIN BUTTON -->
        <a href="login.html" id="authBtn" class="nav-link">Daxil ol</a>

        <!-- USER MENU -->
        <div id="userMenu" class="user-menu" style="display:none">
          <button class="icon-btn">üë§</button>
          <div class="dropdown-menu">
            <a href="#">Profil</a>
            <a href="survey.html">Sorƒüu g√∂nd…ôr</a>
            <a href="#" id="logoutBtn">√áƒ±xƒ±≈ü</a>
          </div>
        </div>
      </nav>
    </div>
  </header>


  <main class="container">
    <h2>Kurslar</h2>

    <!-- Axtarƒ±≈ü v…ô kateqoriya -->
    <div class="filter-bar">
      <input type="text" id="searchInput" placeholder="Kurs adƒ± il…ô axtar...">
      <select id="categorySelect">
        <option value="hamisi">B√ºt√ºn kateqoriyalar</option>
        <option value="programlasdirma">Proqramla≈üdƒ±rma</option>
        <option value="data">Data & Analitika</option>
        <option value="stem">STEM</option>
        <option value="summer">Summer School</option>
      </select>
    </div>

    <div class="courses-grid" id="coursesGrid">

      <article class="course-card" data-category="programlasdirma">
        <h3>Frontend Proqramla≈üdƒ±rma</h3>
        <p>HTML, CSS, JavaScript ‚Äî layih…ô …ôsaslƒ± t…ôdris.</p>
        <a class="btn small courseBtn" href="#">Qeydiyyat</a>
      </article>

      <article class="course-card" data-category="data">
        <h3>Python v…ô Data</h3>
        <p>Python il…ô data analizi v…ô modell…ô≈üdirm…ô.</p>
        <a class="btn small courseBtn" href="#">Qeydiyyat</a>
      </article>

      <article class="course-card" data-category="programlasdirma">
        <h3>SQL v…ô Veril…ônl…ôr Bazasƒ±</h3>
        <p>PostgreSQL v…ô m…ôlumat bazasƒ± strukturlarƒ±.</p>
        <a class="btn small courseBtn" href="#">Qeydiyyat</a>
      </article>

      <article class="course-card" data-category="stem">
        <h3>STEM Layih…ôl…ôri</h3>
        <p>Elm v…ô m√ºh…ôndislik t…ôcr√ºb…ôl…ôri.</p>
        <a class="btn small courseBtn" href="#">Qeydiyyat</a>
      </article>

      <article class="course-card" data-category="summer">
        <h3>Summer School 2025</h3>
        <p>Yay m…ôkt…ôbi ‚Äî beyn…ôlxalq seminarlar.</p>
        <a class="btn small courseBtn" href="#">Qeydiyyat</a>
      </article>

    </div>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>¬© 2025 T…ôhsilPortal</p>
    </div>
  </footer>
  <script type="module" src="main.js"></script>

  <!-- AXTARI≈û + Fƒ∞LTR -->
  <script>
    const searchInput = document.getElementById("searchInput");
    const categorySelect = document.getElementById("categorySelect");
    const courses = document.querySelectorAll(".course-card");

    function filterCourses() {
      const text = searchInput.value.toLowerCase();
      const cat = categorySelect.value;

      courses.forEach(card => {
        const title = card.querySelector("h3").textContent.toLowerCase();
        const category = card.dataset.category;

        const okText = title.includes(text);
        const okCat = (cat === "hamisi" || category === cat);

        card.style.display = (okText && okCat) ? "block" : "none";
      });
    }

    searchInput.addEventListener("input", filterCourses);
    categorySelect.addEventListener("change", filterCourses);
  </script>
<script type="module" src="main.js"></script>
<script type="module">
  import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";

  const auth = getAuth();

  onAuthStateChanged(auth, (user) => {
    if (!user) {
      // User is not authenticated, redirect to login page
      window.location.href = 'login.html';
    }
  });
</script>
<script>
  const courseButtons = document.querySelectorAll('.courseBtn');

  courseButtons.forEach((button, index) => {
      button.addEventListener('click', () => {
          // Redirect to the course registration page
          window.location.href = `registration.html?course=${index + 1}`; // Assuming course pages are named registration.html?course=1, registration.html?course=2, etc.
      });
  });
</script>
<script>
    // Check if the user is logged in
    function isLoggedIn() {
        return localStorage.getItem('loggedIn') === 'true';
    }

    // Redirect to login if not logged in
    function redirectToLogin(targetPage) {
        if (!isLoggedIn()) {
            // Store the target page in local storage to redirect after login
            localStorage.setItem('targetPage', targetPage);
            window.location.href = 'login.html';
        } else {
            // If already logged in, redirect to the target page
            window.location.href = targetPage;
        }
    }

    // Add event listeners to buttons
    document.getElementById('courseButton').addEventListener('click', function() {
        redirectToLogin('course.html');
    });

    document.getElementById('surveyButton').addEventListener('click', function() {
        redirectToLogin('survey.html');
    });
</script>
  <script src="main.js"></script>
</body>
</html>
